!function(t){function i(o){if(e[o])return e[o].exports;var s=e[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){e(1),e(2),t.exports=e(4)},function(t,i){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e(3),s=e(4),n=e(6),r=e(6),a=e(8),h="undefined"!=typeof Stats;if(h){var c=new Stats;c.showPanel(0),window.particleStats=c}i.cursor={position:new o.default(0,0)},window.addEventListener("mousemove",function(t){i.cursor.position.set(t.clientX,t.clientY)},!1),i.particleSystems=[];var p=Date.now();!function(){for(var t=0,i=["webkit","moz"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var o=(new Date).getTime(),s=Math.max(0,16-(o-t)),n=window.setTimeout(function(){i(o+s)},s);return t=o+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),window.main=function(){h&&c.begin();var t=Date.now(),e=(t-p)/1e3;p=t,e>1&&(e=1);for(var o=0,s=i.particleSystems;o<s.length;o++){var n=s[o];n.preUpdate()}for(var r=0,a=i.particleSystems;r<a.length;r++){var n=a[r];n.update(e)}if(h){for(var d=0,u=i.particleSystems;d<u.length;d++){var n=u[d];n.debug()}c.end()}window.requestAnimationFrame(window.main)},window.main(),window.ParticleSystem=s.default,window.Tint=a.default,window.CursorMode=n.CursorMode,window.RotationMode=r.RotationMode},function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(t,i){this.x=t,this.y=i,this.set(t,i)}return t.prototype.set=function(t,i){return this.x=t,this.y=i,this},t.prototype.add=function(t,i){return this.x+=t,this.y+=i,this},t.prototype.dst2=function(t,i){var e=t-this.x,o=i-this.y;return e*e+o*o},t.prototype.dst=function(t,i){return Math.sqrt(this.dst2(t,i))},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.nor=function(){var t=this.len();return 0!==t&&(this.x/=t,this.y/=t),this},t.prototype.scl=function(t,i){return this.x*=t,this.y*=i,this},t.prototype.cpy=function(){return new t(this.x,this.y)},t.prototype.rotate=function(t){return this.rotateRad(t*Math.PI/180)},t.prototype.angle=function(){var t=180*Math.atan2(this.y,this.x)/Math.PI;return t<0&&(t+=360),t},t.prototype.setRotation=function(t){return this.setRotationRad(t*Math.PI/180)},t.prototype.setRotationRad=function(t){return this.set(this.len(),0),this.rotateRad(t),this},t.prototype.rotateRad=function(t){var i=Math.cos(t),e=Math.sin(t),o=this.x*i-this.y*e,s=this.x*e+this.y*i;return this.x=o,this.y=s,this},t.prototype.setAngle=function(t){return this.setAngleRad(t*Math.PI/180)},t.prototype.setAngleRad=function(t){return this.set(this.len(),0),this.rotateRad(t),this},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t}();i.default=e},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e(2),s=e(2),n=e(5),r=e(3),a=e(7),h=e(8),c=e(6),p=function(){function t(i,e,s){void 0===s&&(s={});var h=this;this.cursorRelativeVector=new r.default(0,0),this.options={},this.particles=[],this.image=new Image,"string"==typeof i?this.canvas=document.getElementById(i):this.canvas=i,this.context=this.canvas.getContext("2d"),this.image.src=e,this.options=a.mergeObjects(t.defaults,s),this.lastCursorPos=new r.default(0,0),this.timer=0,this.timerThrottle=this.options.particleCreationThrottle/1e3,window.addEventListener("resize",function(){h.onResize()}),window.addEventListener("scroll",function(){h.onScroll()}),this.onResize(),this.image.onload=function(){h.canvas.addEventListener("click",function(){if(void 0!==h.particles)for(var t=0;t<h.options.addOnClickNb;t++)h.particles.push(new n.default(h,h.cursorRelativeVector.x,h.cursorRelativeVector.y,h.image))},!1),h.options.cursorMode!==c.CursorMode.Follow&&h.populate(),o.particleSystems.push(h)}}return t.prototype.populate=function(){for(var t=0;t<this.canvas.width*this.canvas.height/2e4*this.options.density&&t<this.options.maxParticles;t++)this.particles.push(new n.default(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,this.image))},t.prototype.onScroll=function(){this.canvasBoundingClient=this.canvas.getBoundingClientRect()},t.prototype.onResize=function(){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.canvasBoundingClient=this.canvas.getBoundingClientRect()},t.prototype.onFollow=function(t){if(!this.lastCursorPos.equals(t))for(var i=0;i<this.options.density;i++){var e=Math.random(),o=Math.random();if(e<o){var s=e;e=o,o=s}var r=this.cursorRelativeVector.x+o*this.options.cursorRadius*Math.cos(2*Math.PI*e/o),a=this.cursorRelativeVector.y+o*this.options.cursorRadius*Math.sin(2*Math.PI*e/o);this.particles.push(new n.default(this,r,a,this.image))}},t.prototype.preUpdate=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.update=function(t){this.timer+=t,this.cursorRelativeVector.set(s.cursor.position.x-this.canvasBoundingClient.left,s.cursor.position.y-this.canvasBoundingClient.top),this.options.cursorMode===c.CursorMode.Follow&&this.timer>this.timerThrottle&&(this.onFollow(s.cursor.position),this.timer=0);for(var i=this.particles.length-1;i>=0;i--){var e=this.particles[i];e.update(t),e.draw(this.context),this.particles.length>this.options.maxParticles?(e.position.x<-e.width||e.position.x>this.canvas.width+e.width||e.position.y<-e.height||e.position.y>this.canvas.height+e.height)&&e.die():(e.position.x<-e.width?e.position.x=this.canvas.width:e.position.x>this.canvas.width+e.width&&(e.position.x=0),e.position.y<-e.height?e.position.y=this.canvas.height:e.position.y>this.canvas.height+e.height&&(e.position.y=0)),e.isAlive||this.particles.splice(i,1)}this.lastCursorPos.set(s.cursor.position.x,s.cursor.position.y)},t.prototype.debug=function(){this.context.beginPath(),this.context.fillStyle="white",this.context.arc(this.cursorRelativeVector.x,this.cursorRelativeVector.y,this.options.cursorRadius,0,2*Math.PI),this.context.stroke()},t.prototype.destroy=function(){delete o.particleSystems[o.particleSystems.indexOf(this)]},t.destroyAll=function(){o.particleSystems.splice(0)},t.defaults={maxParticles:200,velocityAngle:[0,360],speed:[20,100],cursorMode:c.CursorMode.Bounce,rotationMode:c.RotationMode.Random,rotationStartAngle:[0,360],minimumRotationSpeed:0,rotationSpeed:[50,50],rotationSpeedSizeScale:1,tints:[new h.default("#FFFFFF",0)],width:[8,32],height:[8,32],addOnClickNb:5,density:1,cursorRadius:100,particleLifeTime:0,particlePreDieTime:1,particleCreationThrottle:16},t}();i.default=p},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e(3),s=e(6),n=e(7),r=function(){function t(t,i,e,r){this.alive=!0,this.particleSystem=t,this.psOptions=t.options;var a=Math.random();if(this.defaultWidth=this.psOptions.width[0]+a*this.psOptions.width[1],this.defaultHeight=this.psOptions.height[0]+a*this.psOptions.height[1],this.defaultSpeed=this.psOptions.speed[0]+Math.random()*(this.psOptions.speed[1]-this.psOptions.speed[0]),this.width=this.defaultWidth,this.height=this.defaultHeight,this.position=new o.default(i,e),this.velocity=new o.default(0,0),this.setRandomVelocity(),this.defaultVelocity=this.velocity.cpy(),this.defaultRotation=n.getRandomAngle(this.psOptions.rotationStartAngle[0],this.psOptions.rotationStartAngle[1]),this.rotation=this.defaultRotation,this.rotationSpeed=this.psOptions.rotationSpeed[0]+Math.random()*(this.psOptions.rotationSpeed[1]-this.psOptions.rotationSpeed[0]),this.minimumRotationSpeed=this.psOptions.minimumRotationSpeed,this.lifeTime=this.psOptions.particleLifeTime,this.currentTime=0,this.lifeOpacity=1,this.lifeScale=1,this.rotationSpeed=this.rotationSpeed/(a*this.psOptions.rotationSpeedSizeScale+1),this.rotationSpeed<0&&this.rotationSpeed>-this.minimumRotationSpeed?this.rotationSpeed=-this.minimumRotationSpeed:this.rotationSpeed>0&&this.rotationSpeed<this.minimumRotationSpeed&&(this.rotationSpeed=this.minimumRotationSpeed),this.image=r,this.tint=this.psOptions.tints[Math.floor(Math.random()*this.psOptions.tints.length)].clone(),this.tint.isActive()||this.psOptions.cursorMode==s.CursorMode.Light){this.buffer=document.createElement("canvas"),this.buffer.width=this.image.width,this.buffer.height=this.image.height;var h=this.buffer.getContext("2d");h.fillStyle=this.tint.color,h.fillRect(0,0,this.buffer.width,this.buffer.height),h.globalCompositeOperation="destination-atop",h.drawImage(this.image,0,0)}}return t.prototype.setRandomVelocity=function(){this.velocity.set(this.defaultSpeed,0),this.velocity.setAngle(n.getRandomAngle(this.psOptions.velocityAngle[0],this.psOptions.velocityAngle[1]))},t.prototype.fadeOutForDie=function(t){this.currentTime+=t,this.currentTime>this.lifeTime-this.psOptions.particlePreDieTime&&(this.lifeOpacity-=t),this.lifeOpacity<0&&(this.lifeOpacity=0),this.currentTime>this.lifeTime-this.psOptions.particlePreDieTime&&(this.lifeScale-=t),this.lifeScale<0&&(this.lifeScale=0),this.currentTime>=this.lifeTime&&this.die()},t.prototype.update=function(t){if(this.particleSystem.options.particleLifeTime>0&&this.fadeOutForDie(t),this.position.add(this.velocity.x*t,this.velocity.y*t),this.psOptions.rotationMode===s.RotationMode.FollowVelocity?this.rotation=this.velocity.angle()+this.defaultRotation:this.psOptions.rotationMode===s.RotationMode.Random&&(this.rotation+=this.rotationSpeed*t),this.psOptions.rotationMode===s.RotationMode.FollowVelocity){var i=3*t,e=this.defaultVelocity.cpy().scl(i,i);this.velocity.add(e.x,e.y).scl(1-i,1-i)}var o=this.position.dst(this.particleSystem.cursorRelativeVector.x,this.particleSystem.cursorRelativeVector.y);if(o<this.psOptions.cursorRadius)if(this.psOptions.cursorMode==s.CursorMode.Bounce){var n=this.position.cpy().add(-this.particleSystem.cursorRelativeVector.x,-this.particleSystem.cursorRelativeVector.y);this.velocity.setRotation(n.angle());var i=10*t;o>.9*this.psOptions.cursorRadius&&(i*=.2),n.scl(i,i).add(this.position.x,this.position.y),this.position.set(n.x,n.y)}else if(this.psOptions.cursorMode==s.CursorMode.Zoom){if(o>0){var r=2,a=this.defaultWidth*r;this.width=a*this.psOptions.cursorRadius/o/r,this.width>=a&&(this.width=a);var h=this.defaultWidth*r;this.height=h*this.psOptions.cursorRadius/o/r,this.height>=h&&(this.height=h)}}else this.psOptions.cursorMode==s.CursorMode.Light&&(0===o?this.tint.opacity=1:this.tint.opacity=this.psOptions.cursorRadius/o-1,this.tint.opacity>1&&(this.tint.opacity=1));else this.psOptions.cursorMode==s.CursorMode.Zoom&&(this.width=this.defaultWidth,this.height=this.defaultHeight),this.psOptions.cursorMode==s.CursorMode.Light&&(this.tint.opacity=0)},t.prototype.draw=function(t){t.save(),t.translate(this.position.x,this.position.y),t.rotate(this.rotation*Math.PI/180),t.globalAlpha=this.lifeOpacity,t.drawImage(this.image,-(this.width/2*this.lifeScale),-(this.height/2*this.lifeScale),this.width*this.lifeScale,this.height*this.lifeScale),this.tint.isActive()&&(t.globalAlpha=this.tint.opacity,t.drawImage(this.buffer,-this.width/2,-this.height/2,this.width,this.height)),t.restore()},t.prototype.die=function(){this.alive=!1},Object.defineProperty(t.prototype,"isAlive",{get:function(){return this.alive},enumerable:!0,configurable:!0}),t}();i.default=r},function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e;!function(t){t[t.Bounce=0]="Bounce",t[t.Zoom=1]="Zoom",t[t.Light=2]="Light",t[t.Follow=3]="Follow"}(e=i.CursorMode||(i.CursorMode={}));var o;!function(t){t[t.None=0]="None",t[t.Random=1]="Random",t[t.FollowVelocity=2]="FollowVelocity"}(o=i.RotationMode||(i.RotationMode={}))},function(t,i){"use strict";function e(t,i){var e={};for(var o in t)e[o]=t[o];for(var o in i)e[o]=i[o];return e}function o(t,i){var e;if(0===t)e=Math.random()*i;else{var o=(i-t+360+180)%360-180;e=(t+o*Math.random()+360)%360}return e}Object.defineProperty(i,"__esModule",{value:!0}),i.mergeObjects=e,i.getRandomAngle=o},function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function t(t,i){this.color=t,this.opacity=i}return t.prototype.isActive=function(){return this.opacity>0},t.prototype.clone=function(){return new t(this.color,this.opacity)},t}();i.default=e}]);